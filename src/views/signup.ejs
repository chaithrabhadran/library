<!DOCTYPE html>
<html lang="en">

<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <title>
    <%=title%>
  </title>
  <meta name="generator" content="Bootply" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <link href="css/bootstrap.min.css" rel="stylesheet">
  <link href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.min.css" rel="stylesheet">
  <!--[if lt IE 9]>
			<script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->
  <link href="css/styles.css" rel="stylesheet">
</head>

<body>
  <header class="navbar navbar-bright navbar-fixed-top" role="banner">
    <div class="container">
      <div class="navbar-header">
        <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a href="/" class="navbar-brand">Home</a>
      </div>
      <nav class="collapse navbar-collapse" role="navigation">
        <ul class="nav navbar-nav">
          <%for(i=0;i<nav.length;i++){%>
            <li>

              <a href="<%=nav[i].link%>">
                <%=nav[i].name%>
              </a>
            </li>
            <%}%>
        </ul>
        <ul class="nav navbar-right navbar-nav">
          <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="glyphicon glyphicon-search"></i></a>
            <ul class="dropdown-menu" style="padding:12px;">
              <form class="form-inline">
                <button type="submit" class="btn btn-default pull-right"><i
                    class="glyphicon glyphicon-search"></i></button><input type="text" class="form-control pull-left"
                  placeholder="Search">
              </form>
            </ul>
          </li>
        </ul>
      </nav>
    </div>
  </header>

  <div id="masthead">
    <div class="container">
      <div class="row">
        <div class="col-md-7">
          <h1>SignUp
            <p class="lead"></p>
          </h1>
        </div>
        <div class="col-md-5">
          <div class="well well-lg">
            <div class="row">
              <div class="col-sm-12">


              </div>
            </div>
          </div>
        </div>
      </div>
    </div><!-- /cont -->

    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <div class="top-spacer"> </div>
        </div>
      </div>
    </div><!-- /cont -->

  </div>

  <div class="container">
    <div class="row">

      <div class="col-md-12">

        <div class="panel">
          <div class="panel-body">



            <!--/stories-->

            <div class="box">
              <form id="form" action="#">
                  <div class="box1">
                      <div class="textbox">
                          <i class="fa fa-user" aria-hidden="true"></i>
                          <input type="text" id="name" placeholder="Full Name" valu>
                          <i id="inames" class="fa fa-check-circle" style="visibility: hidden;" aria-hidden="true"></i>
                   <br> <small>Error Message</small>
                      </div>
                      <div class="textbox">
                          <i class="fa fa-envelope" aria-hidden="true"></i>
                          <input type="email" id="email" placeholder="Email id" name="Username" valu>
                          <i id="iemail" class="fa fa-check-circle" style="visibility: hidden;" aria-hidden="true"></i>
                         <br> <small>Error Message</small>
                      </div>
                      <div class="textbox">
                          <i class="fa fa-phone" aria-hidden="true"></i>
                          <input type="phone" id="phone" placeholder="Mobile Number">
                          <i id="iphone" class="fa fa-check-circle" style="visibility: hidden;" aria-hidden="true"></i>
                         <br> <small>Error Message</small>
                      </div>
                      <div class="textbox" id="textbox1">
                          <i class="fa fa-lock" aria-hidden="true"></i>
                          <input type="password" id="pwd" placeholder="Password" name="Password" valu>
                          <i id="ipwd" class="fa fa-check-circle" style="visibility: hidden;"  aria-hidden="true"></i>
                        <br><small id="msg">Error Message</small>
                      </div>
                      <div class="textbox">
                          <i class="fa fa-lock" aria-hidden="true"></i>
                          <input type="password" id="cpwd" placeholder="Confirm Password" name="Password" valu>
                          <i id="icpwd" class="fa fa-check-circle" style="visibility: hidden;" aria-hidden="true"></i>
                        <br>  <small>Error Message</small>
                      </div>
                      <input class="button" onclick="resetcolor()" type="button" value="SignUp">
                  </div>
              </form>
          </div>
            


            <!--/stories-->


            <a href="/" class="btn btn-primary pull-right btnNext">More <i
                class="glyphicon glyphicon-chevron-right"></i></a>


          </div>
        </div>



      </div>
      <!--/col-12-->
    </div>
  </div>


  <hr>



  <div class="container" id="footer">
    <div class="row">
      <div class="col col-sm-12">

        <h1>Follow Us</h1>
        <div class="btn-group">
          <a class="btn btn-twitter btn-lg" href="#"><i class="icon-twitter icon-large"></i> Twitter</a>
          <a class="btn btn-facebook btn-lg" href="#"><i class="icon-facebook icon-large"></i> Facebook</a>
          <a class="btn btn-google-plus btn-lg" href="#"><i class="icon-google-plus icon-large"></i> Google+</a>
        </div>

      </div>
    </div>
  </div>

  <hr>

  <hr>

  <footer>
    <div class="container">
      <div class="row">
        <div class="col-sm-6">
          <ul class="list-inline">
            <li><i class="icon-facebook icon-2x"></i></li>
            <li><i class="icon-twitter icon-2x"></i></li>
            <li><i class="icon-google-plus icon-2x"></i></li>
            <li><i class="icon-pinterest icon-2x"></i></li>
          </ul>

        </div>
        <div class="col-sm-6">
          <p class="pull-right">Built with <i class="icon-heart-empty"></i> at <a
              href="http://www.bootply.com">Bootply</a></p>
        </div>
      </div>
    </div>
  </footer>
  <!-- script references -->
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.2/jquery.min.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <script>
    let names = document.getElementById("name");
let email = document.getElementById("email");
let pwd = document.getElementById("pwd");
let phone = document.getElementById("phone");
let cpwd = document.getElementById("cpwd");
let form = document.querySelector("form");

function validateInput() {
    // check username is empty 
    if (names.value.trim() === "") {
        onError(names, "Name cannot be empty");
    }
    else {
        if(!isValidName(names.value.trim()))
        {
            onError(names, "Enter your name");
        }else{
        document.getElementById("inames").style.visibility = "visible";
        onSuccess(names);}
    }

    if (email.value.trim() === "") {
        onError(email, "Email cannot be empty!");
    } else {
        if (!isValidEmail(email.value.trim())) {
            onError(email, "Enter a valid email address");
        } else {
            document.getElementById("iemail").style.visibility = "visible";
            onSuccess(email);
        }
    }

    //password
    if (pwd.value.trim() === "") {
        onError(pwd, "Password cannot be empty!");
    } else {
       
       validatePassword(pwd);
        // if (!isValidPwd(pwd.value.trim())) {
        //     onError(pwd, "Password should contain atleast one lowercase,uppercase,number and special character");
        // } else {
        //     onSuccess(pwd);
        // }
    }
    if (cpwd.value.trim() === "") {
        onError(cpwd, "Password cannot be empty");
    } else {
        if (pwd.value.trim() !== cpwd.value.trim()) {
            onError(cpwd, "Password & Confirm password not matching");
        }
        else
        {document.getElementById("icpwd").style.visibility = "visible";
            onSuccess(cpwd);}
    }
    //phone
    if (phone.value.trim() === "") {
        onError(phone, "Number cannot be empty!");


    } else {
        if (!isValidPhone(phone.value.trim())) {
            onError(phone, "Enter a Valid mobile number");
        } else {
            document.getElementById("iphone").style.visibility = "visible";
            onSuccess(phone);
        }
    }
}

document.querySelector("input.button")
    .addEventListener("click", (event) => {
        event.preventDefault();
        validateInput();
    });

function onSuccess(input) {
    let parent = input.parentElement;
    let messageEle = parent.querySelector("small");
    messageEle.style.visibility = "hidden";
    parent.classList.remove("error");
    parent.classList.add("success");
}
function onError(input, message) {
    let parent = input.parentElement;
    let messageEle = parent.querySelector("small");
    messageEle.style.visibility = "visible";
    messageEle.innerText = message;
    parent.classList.add("error");
    parent.classList.remove("success");
    

}

function isValidEmail(email) {
    return /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(email);
}
function isValidPhone(phone) {
    return /^[0-9]{3}[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4}$/.test(phone);
}
// function isValidPwd(pwd) {
//     return /^.*(?=.{8,})(?=.*[a-zA-Z])(?=.*\d)(?=.*[!#$%&? "]).*$/.test(pwd);
// }
function validatePassword(pwd) {
                
    
    if (pwd.value.length < 8) {
        // console.log(getElementById("msg"));
        // console.log(msg);
        document.getElementById("msg").innerText = "Password should be atleast 8 characters";
        document.getElementById("textbox1").style.height="45px";

        // return;
    }
    else{
    var matchedCase = new Array();
    matchedCase.push("[$@$!%*#?&]"); 
    matchedCase.push("[A-Z]");      
    matchedCase.push("[0-9]");      
    matchedCase.push("[a-z]");     

    var ctr = 0;
    for (var i = 0; i < matchedCase.length; i++) {
        if (new RegExp(matchedCase[i]).test(pwd.value)) {
            ctr++;
        }
    }
    var color = "";
    var strength = "";
    var visibility="";
    switch (ctr) {
        case 0:strength = "Weak";
                 color = "red";
                            break;
        case 1:strength = "Weak";
                    color = "red";
                 break;
        case 2:
            strength = "Weak";
            color = "red";
            break;
        case 3:
            strength = "Medium";
            color = "orange";
            break;
        case 4:
            strength = "Strong";
            color = "lightgreen";
            visibility="visible";
    document.getElementById("ipwd").style.visibility = visibility;

            break;
    }
    // document.getElementById("msg").innerHTML = strength;
    // let par = pwd.parentElement;
    // let msgEle = par.querySelector("small");
    // msgEle.style.visibility = "visible";
    // msgEle.innerText = strength;
    onError(pwd,strength);
    
    document.getElementById("msg").style.color = color;

}}
function resetcolor(){
    var color="red";
    document.getElementById("msg").style.color=color;
    document.getElementById("inames").style.visibility = "hidden";
    document.getElementById("ipwd").style.visibility = "hidden";

    document.getElementById("icpwd").style.visibility = "hidden";
    document.getElementById("iemail").style.visibility = "hidden";

    document.getElementById("iphone").style.visibility = "hidden";
    

}
function isValidName(name)
{
return /^[A-Za-z]+([\ A-Za-z]+)*$/.test(name);
}

  </script>
</body>

</html>